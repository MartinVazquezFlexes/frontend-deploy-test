<app-loader *ngIf="loadingService.isLoading$ | async"></app-loader>
<div class="profile-data-container" *ngIf="myDataInput as d">
  @if (!(loadingService.isLoading$ | async)) {
  @if (personDataReady) {
  <app-my-data [data]="d" (dataChange)="onMyDataChange($event)" (componentReady)="deactivateLoader()">
  </app-my-data>
  }
  <app-my-skills [selectedSkillIds]="selectedSkills" (skillsChange)="onSkillsChange($event)" (componentReady)="deactivateLoader()"/>

    <app-my-files
  (fileSelected)="onCvSelected($event)"
  [personId]="personId"
  [resetUploaderToken]="resetCvUploaderToken"
  (componentReady)="deactivateLoader()">
  </app-my-files>

  @if (contactTypes.length > 0 && initialContactsReady) {
  <app-my-contact-networks [contactTypes]="contactTypes" [initialContacts]="initialContacts"
    (contactsChange)="onContactsChange($event)" (deletedContactId)="onContactDeleted($event)" (componentReady)="deactivateLoader()">
  </app-my-contact-networks>
  }

  <div class="floating-save-button">
    <app-button size="medium" variant="primary" color="login" [disabled]="isSaving" (click)="onSaveAll()">
      {{ isSaving ? 'Guardando...' : 'Guardar cambios' }}
    </app-button>
  </div>
  }
</div>